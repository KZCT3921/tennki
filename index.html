<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>åŒ—æµ·é“å¤©æ°—ãƒãƒƒãƒ—</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="apple-touch-icon" href="74_20250620213812.png" />
  <meta name="apple-mobile-web-app-title" content="åŒ—æµ·é“å¤©æ°—ãƒãƒƒãƒ—" />
  <style>
    body { margin: 0; font-family: sans-serif; }
    #map { height: 100vh; width: 100vw; }
  h1 {
  white-space: nowrap;        /* ãƒ†ã‚­ã‚¹ãƒˆã‚’1è¡Œã« */
  width: 200px;               /* æ¨ªå¹…ã‚’æŒ‡å®šï¼ˆä¾‹ï¼‰ */
  margin-bottom: -25px;        /* ä¸‹ã«20pxã®ä½™ç™½ */
  position: relative;
  top: -21px;                 /* ä¸‹ã«10pxãšã‚‰ã™ */
  left: -44px;  /* æ–‡å­—ã‚’å·¦ã«20pxç§»å‹• */
  transform: scaleX(0.5); /* æ¨ªå¹…80%ã«ç¸®å° */

}

  </style>
</head>
<body>
    <h1>å¤©æ°—äºˆå ±ãŒçµ¶å¯¾æ­£ã—ã„ã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚</h1>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    const apiKey = "bdfb0ea9308e7b93cce3c484a8659513";

const cities = [
  { name: "æœ­å¹Œå¸‚", lat: 43.06417, lon: 141.34694 },
  { name: "æ—­å·å¸‚", lat: 43.77056, lon: 142.365 },
  { name: "å‡½é¤¨å¸‚", lat: 41.76879, lon: 140.72883 },
  { name: "å°æ¨½å¸‚", lat: 43.19028, lon: 141.00361 },
  { name: "å®¤è˜­å¸‚", lat: 42.315, lon: 140.975 },
  { name: "é‡§è·¯å¸‚", lat: 42.98444, lon: 144.38194 },
  { name: "å¸¯åºƒå¸‚", lat: 42.92361, lon: 143.19639 },
  { name: "åŒ—è¦‹å¸‚", lat: 43.80444, lon: 143.88861 },
  { name: "å¤•å¼µå¸‚", lat: 43.06417, lon: 141.87528 },
  { name: "å²©è¦‹æ²¢å¸‚", lat: 43.19528, lon: 141.77 },
  { name: "ç¶²èµ°å¸‚", lat: 44.02083, lon: 144.27333 },
  { name: "ç•™èŒå¸‚", lat: 43.93306, lon: 141.635 },
  { name: "è‹«å°ç‰§å¸‚", lat: 42.63444, lon: 141.605 },
  { name: "ç¨šå†…å¸‚", lat: 45.41472, lon: 141.67389 },
  { name: "ç¾å”„å¸‚", lat: 43.33278, lon: 141.89361 },
  { name: "èŠ¦åˆ¥å¸‚", lat: 43.46194, lon: 142.22389 },
  { name: "æ±Ÿåˆ¥å¸‚", lat: 43.11667, lon: 141.56 },
  { name: "èµ¤å¹³å¸‚", lat: 43.71667, lon: 142.01667 },
  { name: "ç´‹åˆ¥å¸‚", lat: 44.35528, lon: 143.35472 },
  { name: "å£«åˆ¥å¸‚", lat: 44.35, lon: 142.4 },
  { name: "åå¯„å¸‚", lat: 44.35556, lon: 142.46389 },
  { name: "ä¸‰ç¬ å¸‚", lat: 43.27972, lon: 141.81972 },
  { name: "æ ¹å®¤å¸‚", lat: 43.33333, lon: 145.57611 },
  { name: "åƒæ­³å¸‚", lat: 42.81444, lon: 141.65 },
  { name: "æ»å·å¸‚", lat: 43.55278, lon: 141.91333 },
  { name: "ç ‚å·å¸‚", lat: 43.53333, lon: 141.9 },
  { name: "æ­Œå¿—å†…å¸‚", lat: 43.61111, lon: 142.11861 },
  { name: "æ·±å·å¸‚", lat: 43.60611, lon: 142.0675 },
  { name: "å¯Œè‰¯é‡å¸‚", lat: 43.34361, lon: 142.37361 },
  { name: "ç™»åˆ¥å¸‚", lat: 42.40278, lon: 141.05639 },
  { name: "æµåº­å¸‚", lat: 42.92444, lon: 141.60556 },
  { name: "ä¼Šé”å¸‚", lat: 42.44222, lon: 140.86778 },
  { name: "åŒ—åºƒå³¶å¸‚", lat: 42.98917, lon: 141.57972 },
  { name: "çŸ³ç‹©å¸‚", lat: 43.17944, lon: 141.33389 },
  { name: "åŒ—æ–—å¸‚", lat: 41.82889, lon: 140.70583 },
  { name: "å½“åˆ¥ç”º", lat: 43.2925, lon: 141.52361 },
  { name: "æ–°ç¯ æ´¥æ‘", lat: 43.25472, lon: 141.5875 },
  { name: "æ¾å‰ç”º", lat: 41.39472, lon: 140.12111 },
  { name: "ç¦å³¶ç”º", lat: 41.47944, lon: 140.17972 },
  { name: "çŸ¥å†…ç”º", lat: 41.54472, lon: 140.39611 },
  { name: "æœ¨å¤å†…ç”º", lat: 41.77583, lon: 140.52833 },
  { name: "ä¸ƒé£¯ç”º", lat: 41.87722, lon: 140.69167 },
  { name: "é¹¿éƒ¨ç”º", lat: 42.07889, lon: 140.85833 },
  { name: "æ£®ç”º", lat: 42.29444, lon: 140.88583 },
  { name: "å…«é›²ç”º", lat: 42.49278, lon: 140.98472 },
  { name: "é•·ä¸‡éƒ¨ç”º", lat: 42.52944, lon: 140.84056 },
  { name: "æ±Ÿå·®ç”º", lat: 41.84167, lon: 140.20361 },
  { name: "ä¸Šãƒå›½ç”º", lat: 41.78806, lon: 140.29417 },
  { name: "åšæ²¢éƒ¨ç”º", lat: 41.98278, lon: 140.31722 },
  { name: "ä¹™éƒ¨ç”º", lat: 42.14833, lon: 140.21222 },
  { name: "ä»Šé‡‘ç”º", lat: 42.3875, lon: 140.29139 },
  { name: "ã›ãŸãªç”º", lat: 42.40694, lon: 139.89139 },
  { name: "å³¶ç‰§æ‘", lat: 42.45278, lon: 140.01222 },
  { name: "å¯¿éƒ½ç”º", lat: 42.54917, lon: 140.13667 },
  { name: "é»’æ¾å†…ç”º", lat: 42.66139, lon: 140.17528 },
  { name: "è˜­è¶Šç”º", lat: 42.79917, lon: 140.24583 },
  { name: "ãƒ‹ã‚»ã‚³ç”º", lat: 42.80556, lon: 140.67833 },
  { name: "çœŸç‹©æ‘", lat: 42.81333, lon: 140.74833 },
  { name: "ç•™å¯¿éƒ½æ‘", lat: 42.84056, lon: 140.80889 },
  { name: "å–œèŒ‚åˆ¥ç”º", lat: 42.86806, lon: 140.78444 },
  { name: "äº¬æ¥µç”º", lat: 42.87556, lon: 140.77167 },
  { name: "å€¶çŸ¥å®‰ç”º", lat: 42.90472, lon: 140.68722 },
  { name: "å…±å’Œç”º", lat: 42.925, lon: 140.61194 },
  { name: "å²©å†…ç”º", lat: 42.94222, lon: 140.57222 },
  { name: "æ³Šæ‘", lat: 42.9675, lon: 140.50056 },
  { name: "ç¥æµå†…æ‘", lat: 42.97889, lon: 140.49417 },
  { name: "ç©ä¸¹ç”º", lat: 43.06139, lon: 140.48444 },
  { name: "å¤å¹³ç”º", lat: 43.12528, lon: 140.56667 },
  { name: "ä»æœ¨ç”º", lat: 43.1375, lon: 140.69417 },
  { name: "ä½™å¸‚ç”º", lat: 43.15111, lon: 140.71778 },
  { name: "èµ¤äº•å·æ‘", lat: 43.20056, lon: 140.63694 },
  { name: "å—å¹Œç”º", lat: 43.00972, lon: 141.70028 },
  { name: "å¥ˆäº•æ±Ÿç”º", lat: 43.45472, lon: 141.85833 },
  { name: "ä¸Šç ‚å·ç”º", lat: 43.48806, lon: 141.81139 },
  { name: "ç”±ä»ç”º", lat: 42.82222, lon: 141.81889 },
  { name: "é•·æ²¼ç”º", lat: 42.81222, lon: 141.93917 },
  { name: "æ —å±±ç”º", lat: 42.77722, lon: 141.99528 },
  { name: "æœˆå½¢ç”º", lat: 43.37083, lon: 141.88778 },
  { name: "æµ¦è‡¼ç”º", lat: 43.46889, lon: 141.82361 },
  { name: "æ–°åæ´¥å·ç”º", lat: 43.57417, lon: 141.85889 },
  { name: "å¦¹èƒŒç‰›ç”º", lat: 43.61222, lon: 141.96583 },
  { name: "ç§©çˆ¶åˆ¥ç”º", lat: 43.66833, lon: 141.98583 },
  { name: "é›¨ç«œç”º", lat: 43.69861, lon: 141.98611 },
  { name: "åŒ—ç«œç”º", lat: 43.68333, lon: 142.06111 },
  { name: "æ²¼ç”°ç”º", lat: 43.73333, lon: 142.01667 },
  { name: "é·¹æ –ç”º", lat: 43.76667, lon: 142.25 },
  { name: "æ±ç¥æ¥½ç”º", lat: 43.75, lon: 142.4 },
  { name: "å½“éº»ç”º", lat: 43.75, lon: 142.3 },
  { name: "æ¯”å¸ƒç”º", lat: 43.7, lon: 142.3 },

  // å±±ï¼ˆåŒ—æµ·é“ã®æœ‰åãªå±±ï¼‰
  { name: "å¤§é›ªå±±ï¼ˆæ—­å²³ï¼‰", lat: 43.66972, lon: 142.80778 },
  { name: "åå‹å²³", lat: 43.55083, lon: 142.83278 },
  { name: "ç¾Šè¹„å±±", lat: 42.86778, lon: 140.80944 },
  { name: "åˆ©å°»å±±", lat: 45.2375, lon: 141.22722 },
  { name: "ç¾…è‡¼å²³", lat: 44.02333, lon: 145.68806 },
  { name: "æµå±±", lat: 41.81056, lon: 140.98222 },
  { name: "ãƒ‹ã‚»ã‚³ã‚¢ãƒ³ãƒŒãƒ—ãƒª", lat: 42.80389, lon: 140.70917 },
  { name: "å¹Œå°»å²³", lat: 42.52806, lon: 142.60611 },
  { name: "æ–œé‡Œå²³", lat: 43.82944, lon: 144.67389 },
  { name: "é›Œé˜¿å¯’å²³", lat: 43.38611, lon: 144.00944 },
  { name: "æ¨½å‰å±±", lat: 42.68778, lon: 141.36056 },
  { name: "é§’ãƒ¶å²³ï¼ˆæ¸¡å³¶ï¼‰", lat: 42.06333, lon: 140.66972 },
  { name: "é¢¨ä¸æ­»å²³", lat: 42.69167, lon: 141.37667 },
  { name: "ã‚¢ãƒã‚¤å²³", lat: 42.15778, lon: 142.05944 },
  { name: "è—»å²©å±±", lat: 43.01111, lon: 141.31611 },
  { name: "æ‰‹ç¨²å±±", lat: 43.12389, lon: 141.19278 },
  { name: "ä¸‰æ®µå±±", lat: 43.41917, lon: 142.57444 },
  { name: "èŠ¦åˆ¥å²³", lat: 43.38278, lon: 142.465 },
  { name: "ãƒ”ãƒ³ãƒã‚·ãƒª", lat: 44.60472, lon: 142.24417 },
  { name: "å¤•å¼µå²³", lat: 43.15972, lon: 142.13444 },
  { name: "ã‚ªãƒ—ã‚¿ãƒ†ã‚·ã‚±å±±", lat: 43.46444, lon: 142.78833 },
  { name: "ãƒˆãƒ ãƒ©ã‚¦ã‚·å±±", lat: 43.58528, lon: 142.84722 },
  { name: "çŸ³ç‹©å²³", lat: 43.48972, lon: 142.92639 },
  { name: "éŸ³æ›´å±±", lat: 43.37389, lon: 143.02083 },
  { name: "èŠ¦åˆ¥å±±ï¼ˆå°èŠ¦åˆ¥ï¼‰", lat: 43.37083, lon: 142.42306 },
  { name: "ãƒ‹ãƒšã‚½ãƒ„å±±", lat: 43.36833, lon: 143.00889 },
  { name: "ãƒãƒ­ã‚·ãƒªå²³", lat: 42.68639, lon: 143.13472 },
  { name: "ç™½é›²å²³", lat: 43.68778, lon: 142.92278 },
  { name: "å°æ³‰å²³", lat: 43.68556, lon: 142.875 },
  { name: "é»’å²³", lat: 43.72139, lon: 142.94417 }

];

    const map = L.map('map').setView([43.5, 142.0], 7);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    function getClothingAdvice(temp, weatherDesc) {
      if (temp >= 30) return "åŠè¢–ã§OK";
      if (temp >= 29) return "åŠè¢–ã§OK";
      if (temp >= 28) return "åŠè¢–ã§OK";
      if (temp >= 27) return "åŠè¢–ã§OK";
      if (temp >= 26) return "åŠè¢–ã§OK";
      if (temp >= 25) return "åŠè¢–ã§OK";
      if (temp >= 24) return "åŠè¢–ã§OK";
      if (temp >= 23) return "è–„æ‰‹ã®é•·è¢–ãŒãŠã™ã™ã‚";
      if (temp >= 22) return "è–„æ‰‹ã®é•·è¢–ãŒãŠã™ã™ã‚";
      if (temp >= 21) return "è–„æ‰‹ã®é•·è¢–ãŒãŠã™ã™ã‚";
      if (temp >= 20) return "è–„æ‰‹ã®é•·è¢–ãŒãŠã™ã™ã‚";
      if (temp >= 19) return "ä¸Šç€ã‚’å¿˜ã‚Œãšã«";
      if (temp >= 18) return "ä¸Šç€ã‚’å¿˜ã‚Œãšã«";
      if (temp >= 17) return "ä¸Šç€ã‚’å¿˜ã‚Œãšã«";
      if (temp >= 16) return "ä¸Šç€ã‚’å¿˜ã‚Œãšã«";
      if (temp >= 15) return "ä¸Šç€ã‚’å¿˜ã‚Œãšã«";
      if (temp >= 14) return "ä¸Šç€ã‚’å¿˜ã‚Œãšã«";
      if (temp >= 13) return "ä¸Šç€ã‚’å¿˜ã‚Œãšã«";
      if (temp >= 12) return "ä¸Šç€ã‚’å¿˜ã‚Œãšã«";
      if (temp >= 11) return "ä¸Šç€ã‚’å¿˜ã‚Œãšã«";
      if (temp >= 10) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      if (temp >= 9) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      if (temp >= 8) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      if (temp >= 7) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      if (temp >= 6) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      if (temp >= 5) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      if (temp >= 4) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      if (temp >= 3) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      if (temp >= 2) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      if (temp >= 1) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      if (temp >= 0) return "ã‚¸ãƒ£ãƒ³ãƒãƒ¼ã‚„ã‚³ãƒ¼ãƒˆãŒå¿…è¦";
      return "é˜²å¯’å¯¾ç­–ã‚’ã—ã£ã‹ã‚Š";
    }

    function getWeatherStatus(desc) {
      if (desc.includes("é›¨")) return "é›¨";
      if (desc.includes("æ›‡")) return "æ›‡ã‚Š";
      if (desc.includes("æ™´")) return "æ™´ã‚Œ";
      return "å¿«é©";
    }

    cities.forEach(city => {
      const url = `https://api.openweathermap.org/data/2.5/forecast?lat=${city.lat}&lon=${city.lon}&appid=${apiKey}&units=metric&lang=ja`;

      fetch(url)
        .then(res => res.json())
        .then(data => {
          const todayData = data.list[0];
          const temps = data.list.slice(0, 8).map(d => d.main.temp);
          const minTemp = Math.min(...temps);
          const maxTemp = Math.max(...temps);
          const pop = data.list[0].pop * 100;

          const icon = todayData.weather[0].icon;
          const weatherDesc = todayData.weather[0].description;
          const clothing = getClothingAdvice(todayData.main.temp, weatherDesc);
          const weatherStatus = getWeatherStatus(weatherDesc);

          const popupText = `
            <strong>${city.name}</strong><br/>
            â˜€ï¸ å¤©æ°—: ${weatherStatus}<br/>
            ğŸŒ¡ï¸ 5æ™‚é–“ä»¥å†…ã®æ°—æ¸©: ${Math.round(todayData.main.temp)}â„ƒ<br/>
            ğŸ”¼ æœ€é«˜: ${Math.round(maxTemp)}â„ƒã€€ğŸ”½ æœ€ä½: ${Math.round(minTemp)}â„ƒ<br/>
            â˜” é™æ°´ç¢ºç‡: ${Math.round(pop)}%<br/>
            ğŸ‘• ${clothing}<br/>
            <img src="https://openweathermap.org/img/wn/${icon}@2x.png" alt="å¤©æ°—ã‚¢ã‚¤ã‚³ãƒ³" />
          `;

          L.marker([city.lat, city.lon]).addTo(map).bindPopup(popupText);
        })
        .catch(err => {
          console.error(`${city.name} ã®å¤©æ°—å–å¾—ã«å¤±æ•—:`, err);
        });
    });
  </script>
</body>
</html>
